<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Joueur - Among Us Real</title>
    <link rel="stylesheet" href="../static/css/style.css">
</head>

<body class="dead">



<h1 class="center"></h1>

<h1> Code joueur: {{(code_joueur)}}</h1>
 {% if player.role == "impostor"%}
<button2 class="ask" data-modal="Kill" tabindex=0>Tuer joueur</button2>
{% endif %}
 {% if player.role == "scientist"%}
<button2 class="ask" data-modal="deads" tabindex=0>voir les morts</button2>
{% endif %}
<button2 class="ask" data-modal="Report" tabindex=0>Reporter un corps</button2>



{% for task in task_list %}
<div class="task-card">
    <p style="font-size: 24px">{{ (task) }}</p>
    {% if task.type == "basic" %}
        <button1 data-taskname="{{task.name}}" class="direct-valid">Effectuer la tâche</button1>
    {% elif task.type == "validate_basic" %}
        <button1 class="ask" data-modal="Tache_validate" tabindex=0>Valider la tâche</button1>
    {% elif task.type == "activate_basic" %}
        {% if task.active %}
            <button1 data-taskname="{{task.name}}" class="direct-valid">Effectuer la tâche</button1>
        {% else %}
            <button1 class="ask" data-modal="Tache_activate" tabindex=0>Activer la tâche</button1>
        {% endif %}
    {% elif task.type == "activ_valid" %}
        {% if task.active %}
            <button1 class="ask" data-modal="Tache_validate" tabindex=0>Valider la tâche</button1>
        {% else %}
            <button1 class="ask" data-modal="Tache_activate" tabindex=0>Activer la tâche</button1>
        {% endif %}
    {% endif %}
</div>
{% endfor %}




<script src="../static/js/main.js"></script>


<!-- Modal -->
<div id="Kill" class="modal">
    <div class="modal-content">
        <div class="contact-form">
            <a class="close" tabindex="0">&times;</a>
            <h2>Qui voulez-vous tuer ?</h2>
            <form action= "/api/kill" method="post">
                <input placeholder="La personne à tuer" type="number"  name="killed_id" id="killed_id" class="input" min="0">
                <input type="submit">
            </form>>
        </div>
    </div>
</div>

<div id="Report" class="modal">
    <div class="modal-content">
        <div class="contact-form">
            <a class="close" tabindex="0">&times;</a>
            <h2>Quelle personne a été tuée ?</h2>
            <form action= "/api/report_dead" method="post">
                <input placeholder="Reporter le corps du joueur" type="number" name="dead_player_id" id="dead_player_id" class="input" min="0">
            </form>
        </div>
    </div>
</div>


<!-- Modal Taches -->

<div id="Tache_validate" class="modal">
    <div class="modal-content">
        <div class="contact-form">
            <a class="close" tabindex="0">&times;</a>
            <h2>Valider la tâche</h2>
            <form action= "/api/done_task" method="post">
                <input placeholder="Mot clé de validation" type="text" name="text" class="input">
                <input type="submit" value="Valider">
            </form>
        </div>
    </div>
</div>


<div id="Tache_activate" class="modal">
    <div class="modal-content">
        <div class="contact-form">
            <a class="close" tabindex="0">&times;</a>
            <h2>Activer la tâche</h2>
            <form action= "/api/activ_task" method="post">
                <input placeholder="Mot clé d'activation " type="text" name="text" class="input">
            </form>
        </div>
    </div>
</div>

{% if popup %}
<div id="popup" class="modal" style="display: block">
    <div class="modal-content">
        <div class="contact-form">
            <a class="close" tabindex="0">&times;</a>
            <h2>{{popup["title"]}}</h2>
            <p>{{popup["message"]}}</p>
        </div>
    </div>
</div>
{% endif %}


</body>
</html>
